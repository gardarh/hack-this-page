<script type="importmap">
  {
    "imports": {
      "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js"
    }
  }
</script>

<div id="app">
    <h1>The unsecure news page</h1>
    <div v-if="article !== null" style="margin-bottom: 12px">
        <h2>{{ article.headline }}</h2>
        <p>{{ article.content }}</p>
    </div>
    <div v-else>
        Loading ...
    </div>
</div>

<script type="module">
  import { createApp } from 'vue'

  createApp({
    data() {
      return {
        article: null,
      }
    },
    created() {
        fetch('/api/v1/articles/1/')
            .then((response) => response.json())
            .then((data) => {this.article = data})
    }
  }).mount('#app')
</script>
